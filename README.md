# Put It In A Walnut ðŸŒ°

**put it in a walnut** is a web application that transforms your messages into a unique walnut. I evoke J.R. Carpenter's [Handmade Web](https://luckysoap.com/statements/handmadeweb.html) in the creation of a webpage that suggests slowness and smallness as a forms of resistance.

## overview

Put It In A Walnut is an interactive experience where users can:

- Enter personal messages
- Watch an animated mascot deliver their message to a mighty tree
- See their message transform into a uniquely generated walnut
- Interact with the walnut to reveal its "nut meats" (inner patterns)
- Download their generated walnut art

## technology used

- Next.js 15.0
- React 19
- TypeScript
- Tailwind CSS
- SVG manipulation
- HTML-to-Image for download functionality

## development

The project uses a modern React stack with TypeScript for type safety. Key components include:

- `Walnut.tsx`: Handles the generation of unique walnut shell patterns
- `NutMeat.tsx`: Creates the internal walnut patterns
- `Mascot.tsx`: Manages the interactive character states and animations
- `Dialog.tsx`: Implements the typewriter-style text display

## contributions

contributions are so welcome! Please feel free to submit a Pull Request!

## the technical details for walnut generation

### ðŸŒ° procedural generation algorithm

- Each walnut is procedurally generated based on the user's input message using seeded random algorithms, with a unique inner pattern as well as a unique outer shell pattern.
- The generated walnut is unique to your message, so if you enter the same message, you'll get the same walnut even on a different device.

The application uses deterministic procedural generation to create unique walnuts from text input. **Here's how it works:**

Both the walnut shell and nut meat use a custom SeededRandom class that generates predictable random numbers based on the input text. This ensures the same text always produces the same walnut pattern:

1. The input text is converted to a numerical seed using a hash function
2. The seed is used to generate pseudo-random numbers using a sine-based algorithm

The svg for the outer shell is generated by:

1. Creating a series of points in a half-circle pattern
2. Applying random variations to the radius at each point
3. Mirroring the points to create a symmetrical shell
4. Connecting points with rounded corners using quadratic bezier curves

The inner nut meat pattern is a little more complex:

1. Generates two mirrored "C" shaped patterns
2. Creates random protrusions along the curves:
   - Randomly determines number of protrusions (3-7)
   - Places protrusions at random angles
   - Varies protrusion length and sharpness
3. adds an inner curve with its own variations
4. adds smooth transitions between points

### configuration

The walnut + its meats can also be fine-tuned with parameters:

- Base size and positioning
- Number of points and corners
- Protrusion characteristics
- Visual style (stroke width, colors)

## thank you for taking a look! lots of love,

created by [@onmondale](https://github.com/onmondale) â€” nelson mondale, fall 2024
